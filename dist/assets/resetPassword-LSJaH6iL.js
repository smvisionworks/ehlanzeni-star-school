import{a as l}from"./firebase-B3bAttLw.js";import{sendPasswordResetEmail as d}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";import"https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js";console.log("âœ… reset-password.js loaded");window.addEventListener("error",e=>{console.error("ðŸ”¥ Global error:",e.error)});const a=document.getElementById("reset-form"),m=document.getElementById("reset-email"),n=a.querySelector('button[type="submit"]');function r(e,o="info"){const t=document.getElementById("toast");if(!t)return alert(e);t.textContent=e,t.className=`toast toast-${o}`,t.style.opacity="1",setTimeout(()=>{t.style.opacity="0"},3500)}const c=document.getElementById("reset-success-modal"),u=document.getElementById("reset-email-display"),y=document.getElementById("reset-modal-btn");function f(e){u.textContent=e,c.classList.remove("hidden"),setTimeout(()=>{window.location.href="/landing/login.html"},5e3)}y.addEventListener("click",()=>{window.location.href="/landing/login.html"});a.addEventListener("submit",async e=>{e.preventDefault();const o=m.value?.trim();if(!o){r("Please enter your email address.","error");return}n.disabled=!0;const t=n.innerHTML;n.innerHTML="Sending...";try{await d(l,o),a.style.display="none",f(o)}catch(i){console.error("sendPasswordResetEmail error",i);const s=i?.code||"";r(s==="auth/user-not-found"?"No account found with that email.":s==="auth/invalid-email"?"Invalid email address.":s==="auth/too-many-requests"?"Too many requests â€” try again later.":"Failed to send reset email. Try again.","error")}finally{n.disabled=!1,n.innerHTML=t}});
